<svg xmlns="http://www.w3.org/2000/svg" style="max-width:1475px;font:400 16px &quot;Times New Roman&quot;" viewBox="-50 -10 1475 1176" color="#000"><style></style><path id="actor0" class="actor-line" stroke-width=".5" stroke="#999" d="M75 5v1160"/><rect fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="75" dy="0">Private Relay Extension</tspan></text><path id="actor1" class="actor-line" stroke-width=".5" stroke="#999" d="M275 5v1160"/><rect x="200" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="275" dy="0">relay.firefox.com</tspan></text><path id="actor2" class="actor-line" stroke-width=".5" stroke="#999" d="M475 5v1160"/><rect x="400" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="475" dy="0">example.com</tspan></text><path id="actor3" class="actor-line" stroke-width=".5" stroke="#999" d="M675 5v1160"/><rect x="600" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="675" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="675" dy="0">example.com MTA</tspan></text><path id="actor4" class="actor-line" stroke-width=".5" stroke="#999" d="M875 5v1160"/><rect x="800" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="875" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="875" dy="0">api.sendgrid.com</tspan></text><path id="actor5" class="actor-line" stroke-width=".5" stroke="#999" d="M1075 5v1160"/><rect x="1000" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="1075" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="1075" dy="0">User MTA</tspan></text><path id="actor6" class="actor-line" stroke-width=".5" stroke="#999" d="M1275 5v1160"/><rect x="1200" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="1275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="1275" dy="0">User Mail Client</tspan></text><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto" fill="#333"><path d="M0 0v4l6-2z"/></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path stroke="#000" d="M9 2v4l7-2z" stroke-dasharray="0,0"/><path fill="none" stroke="#000" d="M0 1l6 6m0-6L0 7" stroke-dasharray="0,0"/></marker></defs><text x="175" y="93" class="messageText" text-anchor="middle">POST /addresses</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M75 100h200"/><text x="175" y="128" class="messageText" text-anchor="middle">201 Created: anon@relay.firefox.com</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M275 135H75"/><text x="275" y="163" class="messageText" text-anchor="middle">&lt;form&gt; submit</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M75 170h400"/><text x="175" y="198" class="messageText" text-anchor="middle">PUT /addresses/:id for example.com</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M75 205h200"/><text x="175" y="233" class="messageText" text-anchor="middle">200 OK</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M275 240H75"/><text x="575" y="268" class="messageText" text-anchor="middle">mailto:anon@relay.firefox.com</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M475 275h200"/><text x="775" y="303" class="messageText" text-anchor="middle">SMTP</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M675 310h200"/><text x="875" y="338" class="messageText" text-anchor="middle">Verify sending MTA (SPF)</text><path d="M875 345c60-10 60 30 0 20" class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none"/><g><text x="875" y="403" class="messageText" text-anchor="middle">Verify message signatures (DKIM)</text><path d="M875 410c60-10 60 30 0 20" class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none"/></g><g><text x="575" y="468" class="messageText" text-anchor="middle">POST /inbound</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M875 475H275"/></g><g><text x="275" y="503" class="messageText" text-anchor="middle">Verify address was generated for example.com</text><path d="M275 510c60-10 60 30 0 20" class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none"/></g><g><text x="275" y="568" class="messageText" text-anchor="middle">look up real user address</text><path d="M275 575c60-10 60 30 0 20" class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none"/></g><g><text x="575" y="633" class="messageText" text-anchor="middle">POST /v3/mail/send</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M275 640h600"/></g><g><text x="975" y="668" class="messageText" text-anchor="middle">SMTP</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M875 675h200"/></g><g><text x="1175" y="703" class="messageText" text-anchor="middle">SMTP</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M1075 710h200"/></g><g><text x="1275" y="738" class="messageText" text-anchor="middle">User replies</text><path d="M1275 745c60-10 60 30 0 20" class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none"/></g><g><text x="1175" y="803" class="messageText" text-anchor="middle">SMTP</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M1275 810h-200"/></g><g><text x="975" y="838" class="messageText" text-anchor="middle">SMTP</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M1075 845H875"/></g><g><text x="575" y="873" class="messageText" text-anchor="middle">POST /inbound</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M875 880H275"/></g><g><text x="275" y="908" class="messageText" text-anchor="middle">Transform from/to address</text><path d="M275 915c60-10 60 30 0 20" class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none"/></g><g><text x="275" y="973" class="messageText" text-anchor="middle">remove user address</text><path d="M275 980c60-10 60 30 0 20" class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none"/></g><g><text x="575" y="1038" class="messageText" text-anchor="middle">POST /v3/mail/send</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M275 1045h600"/></g><g><text x="775" y="1073" class="messageText" text-anchor="middle">SMTP</text><path class="messageLine0" stroke-width="2" stroke="#000" marker-end="url(#arrowhead)" fill="none" d="M875 1080H675"/></g><g><rect y="1100" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="75" y="1132.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="75" dy="0">Private Relay Extension</tspan></text></g><g><rect x="200" y="1100" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="275" y="1132.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="275" dy="0">relay.firefox.com</tspan></text></g><g><rect x="400" y="1100" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="475" y="1132.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="475" dy="0">example.com</tspan></text></g><g><rect x="600" y="1100" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="675" y="1132.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="675" dy="0">example.com MTA</tspan></text></g><g><rect x="800" y="1100" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="875" y="1132.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="875" dy="0">api.sendgrid.com</tspan></text></g><g><rect x="1000" y="1100" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="1075" y="1132.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="1075" dy="0">User MTA</tspan></text></g><g><rect x="1200" y="1100" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="1275" y="1132.5" dominant-baseline="central" alignment-baseline="central" class="actor" text-anchor="middle"><tspan x="1275" dy="0">User Mail Client</tspan></text></g></svg>